<form [formGroup]="registerForm" (ngSubmit)="register(registerForm.value)" *ngIf="newUser">
    <ion-grid>
        <ion-row color="primary" justify-content-center>
            <ion-col align-self-center size-md="6" size-lg="12" size-xs="12">
                <div text-center>
                    <h3>Sign Up!</h3>
                </div>
                <div padding>

                    <ion-item>
                        <ion-input type="text" value="" [formControl]="registerForm.controls['username']"
                            [ngClass]="{'error-border':!registerForm.controls['username'].valid}"
                            placeholder="Username">
                        </ion-input>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['username'].hasError('required') && registerForm.controls['username'].touched">
                        <ion-text color="danger">* Username is required!</ion-text>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['username'].hasError('minlength') && registerForm.controls['username'].touched">
                        <ion-text color="danger">* Minimum username length is 5!</ion-text>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['username'].hasError('maxlength') && registerForm.controls['username'].touched">
                        <ion-text color="danger">* Maximum username length is 12!</ion-text>
                    </ion-item>

                    <ion-item>
                        <ion-input type="text" value="" [formControl]="registerForm.controls['email']"
                            [ngClass]="{'error-border':!registerForm.controls['email'].valid}" placeholder="Email">
                        </ion-input>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['email'].hasError('required') && registerForm.controls['email'].touched">
                        <ion-text color="danger">* Email is required!</ion-text>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['email'].hasError('pattern') && registerForm.controls['email'].touched">
                        <ion-text color="danger">* Enter a valid email!</ion-text>
                    </ion-item>

                    <ion-item>
                        <ion-input [type]="showPassword ? 'text' : 'password'" value=""
                            [formControl]="registerForm.controls['password']" placeholder="Password"></ion-input>
                        <ion-icon (click)="onPasswordToggle()" [name]="showPassword ? 'eye-off' : 'eye'" slot="end">
                        </ion-icon>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['password'].hasError('required') && registerForm.controls['password'].touched">
                        <ion-text color="danger">* Password is required!</ion-text>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['password'].hasError('pattern') && registerForm.controls['password'].touched">
                        <ion-text color="danger">* Password must contain at least one number and one uppercase and
                            lowercase letter, and at least 9 or more characters!</ion-text>
                    </ion-item>

                    <ion-item>
                        <ion-input [type]="showPassword ? 'text' : 'password'" value=""
                            [formControl]="registerForm.controls['retype_password']" placeholder="Retype Password">
                        </ion-input>
                        <ion-icon (click)="onPasswordToggle()" [name]="showPassword ? 'eye-off' : 'eye'" slot="end">
                        </ion-icon>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['retype_password'].hasError('required') && registerForm.controls['retype_password'].touched">
                        <ion-text color="danger">* Enter your password again!</ion-text>
                    </ion-item>
                    <ion-item
                        *ngIf="registerForm.controls['password'].value != registerForm.controls['retype_password'].value  && registerForm.controls['retype_password'].touched">
                        <ion-text color="danger">* Password do not match!</ion-text>
                    </ion-item>
                </div>
                <div padding>
                    <ion-button size="large" type="submit" [disabled]="!registerForm.valid" expand="block">Sign Up
                    </ion-button>
                </div>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-md="12" size-lg="12" size-xs="12">
                <div class="ion-text-right">
                    <h6><a (click)="newUser = false;registerForm.reset()"> Already have an account?</a></h6>
                </div>
            </ion-col>
        </ion-row>
    </ion-grid>
</form>

<form [formGroup]="loginForm" (ngSubmit)="login(loginForm.value)" *ngIf="!newUser">
    <ion-grid>
        <ion-row color="primary" justify-content-center>
            <ion-col align-self-center size-md="6" size-lg="12" size-xs="12">
                <div text-center>
                    <h3>Login to your account!</h3>
                </div>
                <div padding>
                    <ion-item>
                        <ion-input type="text" value="" [formControl]="loginForm.controls['username']"
                            [ngClass]="{'error-border':!loginForm.controls['username'].valid}" placeholder="Username">
                        </ion-input>
                    </ion-item>
                    <ion-item
                        *ngIf="loginForm.controls['username'].hasError('required') && loginForm.controls['username'].touched">
                        <ion-text color="danger">* Username is required!</ion-text>
                    </ion-item>
                    <ion-item
                        *ngIf="loginForm.controls['username'].hasError('minlength') && loginForm.controls['username'].touched">
                        <ion-text color="danger">* Minimum username length is 5!</ion-text>
                    </ion-item>
                    <ion-item
                        *ngIf="loginForm.controls['username'].hasError('maxlength') && loginForm.controls['username'].touched">
                        <ion-text color="danger">* Maximum username length is 12!</ion-text>
                    </ion-item>

                    <ion-item>
                        <ion-input [type]="showPassword ? 'text' : 'password'" value=""
                            [formControl]="loginForm.controls['password']" placeholder="Password"></ion-input>
                        <ion-icon (click)="onPasswordToggle()" [name]="showPassword ? 'eye-off' : 'eye'" slot="end">
                        </ion-icon>
                    </ion-item>
                    <ion-item
                        *ngIf="loginForm.controls['password'].hasError('required') && loginForm.controls['password'].touched">
                        <ion-text color="danger">* Password is required!</ion-text>
                    </ion-item>
                    <ion-item
                        *ngIf="loginForm.controls['password'].hasError('minlength') && loginForm.controls['password'].touched">
                        <ion-text color="danger">* Minimum passowrd length is 9!</ion-text>
                    </ion-item>
                </div>
                <div padding>
                    <ion-button size="large" type="submit" [disabled]="!loginForm.valid" expand="block">Login
                    </ion-button>
                </div>

            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-md="6" size-lg="6" size-xs="6">
                <div class="ion-text-left">
                    <h6><a> Forgot password?</a></h6>
                </div>
            </ion-col>
            <ion-col size-md="6" size-lg="6" size-xs="6">
                <div class="ion-text-right">
                    <h6><a (click)="newUser = true;loginForm.reset()">Sign Up!</a></h6>
                </div>
            </ion-col>
        </ion-row>
    </ion-grid>
</form>